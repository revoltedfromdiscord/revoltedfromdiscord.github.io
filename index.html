<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Revolted from Discord</title>
  <link href="https://fonts.googleapis.com/css2?family=Source+Serif+4:opsz,wght@8..60,400;8..60,600&amp;family=Inter:wght@400;500&amp;display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <main class="main">
    <div id="content">Loading...<noscript>Please enable JavaScript in order to load content properly.</noscript></div>
  </main>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script>
    const pages = {
      home: 'HOME.md'
    };

    function getCurrentPage() {
      return window.location.hash.replace('#', '') || 'home';
    }

    function loadPage(pageName) {
      const filePath = pages[pageName];
      if (!filePath) {
        document.getElementById('content').innerHTML = 
          '<h1>Page not found</h1>';
        return;
      }

      fetch(filePath)
        .then(response => {
          if (!response.ok) throw new Error('File not found');
          return response.text();
        })
        .then(markdown => {
          document.getElementById('content').innerHTML = marked.parse(markdown);
        })
        .catch(error => {
          document.getElementById('content').innerHTML = 
            '<h1>Error loading page</h1><p>' + error + '</p>';
        });
    }

    function updateActiveNav() {
      const current = getCurrentPage();
      document.querySelectorAll('.nav-link').forEach(link => {
        link.style.fontWeight = link.getAttribute('href') === `#${current}` ? 'bold' : 'normal';
      });
    }

    window.addEventListener('hashchange', () => {
      loadPage(getCurrentPage());
      updateActiveNav();
    });
    window.addEventListener('load', () => {
      loadPage(getCurrentPage());
      updateActiveNav();
    });
  </script>
</body>
</html>
